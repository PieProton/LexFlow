# Forza Rust a usare lld (il linker ultraveloce) invece di quello di base del Mac
[target.aarch64-apple-darwin]
rustflags = [
    "-C", "link-arg=-fuse-ld=/opt/homebrew/bin/ld64.lld"
]

[target.x86_64-apple-darwin]
rustflags = [
    "-C", "link-arg=-fuse-ld=/opt/homebrew/bin/ld64.lld"
]

[target.x86_64-pc-windows-msvc]
# lld-link per cross-compile Windows da macOS via cargo-xwin
# I LIBPATH delle Windows SDK vengono passati via env LIB in build-all.sh
linker = "lld-link"
rustflags = [
    "-C", "linker-flavor=msvc",
]
